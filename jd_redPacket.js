/*
京东全民开红包
Last Modified time: 2021-05-19 16:27:18
活动入口：京东APP首页-领券-锦鲤红包。[活动地址](https://happy.m.jd.com/babelDiy/zjyw/3ugedFa7yA6NhxLN5gw2L3PF9sQC/index.html)
未实现功能：领3张券功能

脚本兼容: QuantumultX, Surge, Loon, JSBox, Node.js
================QuantumultX==================
[task_local]
#京东全民开红包
1 1,2,23 * * * jd_redPacket.js, tag=京东全民开红包, img-url=https://raw.githubusercontent.com/58xinian/icon/master/jd_redPacket.png, enabled=true
===================Loon==============
[Script]
cron "1 1,2,23 * * *" script-path=jd_redPacket.js, tag=京东全民开红包
===============Surge===============
[Script]
京东全民开红包 = type=cron,cronexp="1 1,2,23 * * *",wake-system=1,timeout=3600,script-path=jd_redPacket.js
====================================小火箭=============================
京东全民开红包 = type=cron,script-path=jd_redPacket.js, cronexpr="1 1,2,23 * * *", timeout=3600, enable=true
 */
const $ = new Env('京东全民开红包');
const notify = $.isNode() ? require('./sendNotify') : '';
//Node.js用户请在jdCookie.js处填写京东ck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';

//IOS等用户直接用NobyDa的jd cookie
let cookiesArr = [], cookie = '';
$.redPacketId = [];

var _0xod5='jsjiami.com.v6',_0x5be4=[_0xod5,'\x69\x73\x4e\x6f\x64\x65','\x6b\x65\x79\x73','\x66\x6f\x72\x45\x61\x63\x68','\x70\x75\x73\x68','\x65\x6e\x76','\x4a\x44\x5f\x44\x45\x42\x55\x47','\x66\x61\x6c\x73\x65','\x6c\x6f\x67','\x67\x65\x74\x64\x61\x74\x61','\x43\x6f\x6f\x6b\x69\x65\x4a\x44','\x43\x6f\x6f\x6b\x69\x65\x4a\x44\x32','\x43\x6f\x6f\x6b\x69\x65\x73\x4a\x44','\x6d\x61\x70','\x63\x6f\x6f\x6b\x69\x65','\x66\x69\x6c\x74\x65\x72','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x61\x70\x69\x2e\x6d\x2e\x6a\x64\x2e\x63\x6f\x6d\x2f\x61\x70\x69','\x6d\x73\x67','\x6e\x61\x6d\x65','\u3010\u63d0\u793a\u3011\u8bf7\u5148\u83b7\u53d6\u4eac\u4e1c\u8d26\u53f7\u4e00\x63\x6f\x6f\x6b\x69\x65\x0a\u76f4\u63a5\u4f7f\u7528\x4e\x6f\x62\x79\x44\x61\u7684\u4eac\u4e1c\u7b7e\u5230\u83b7\u53d6','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x62\x65\x61\x6e\x2e\x6d\x2e\x6a\x64\x2e\x63\x6f\x6d\x2f\x62\x65\x61\x6e\x2f\x73\x69\x67\x6e\x49\x6e\x64\x65\x78\x2e\x61\x63\x74\x69\x6f\x6e','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x72\x61\x77\x2e\x67\x69\x74\x68\x75\x62\x75\x73\x65\x72\x63\x6f\x6e\x74\x65\x6e\x74\x2e\x63\x6f\x6d\x2f\x31\x39\x39\x34\x31\x31\x32\x2f\x75\x70\x64\x61\x74\x65\x54\x65\x61\x6d\x31\x2f\x6d\x61\x73\x74\x65\x72\x2f\x73\x68\x61\x72\x65\x43\x6f\x64\x65\x73\x2f\x6a\x64\x5f\x72\x65\x64\x2e\x6a\x73\x6f\x6e','\x68\x74\x74\x70','\x67\x65\x74','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x70\x75\x72\x67\x65\x2e\x6a\x73\x64\x65\x6c\x69\x76\x72\x2e\x6e\x65\x74\x2f\x67\x68\x2f\x31\x39\x39\x34\x31\x31\x32\x2f\x75\x70\x64\x61\x74\x65\x54\x65\x61\x6d\x31\x40\x6d\x61\x73\x74\x65\x72\x2f\x73\x68\x61\x72\x65\x43\x6f\x64\x65\x73\x2f\x6a\x64\x5f\x72\x65\x64\x2e\x6a\x73\x6f\x6e','\x74\x68\x65\x6e','\x63\x61\x74\x63\x68','\u5237\u65b0\x43\x44\x4e\u5f02\u5e38','\x77\x61\x69\x74','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x63\x64\x6e\x2e\x6a\x73\x64\x65\x6c\x69\x76\x72\x2e\x6e\x65\x74\x2f\x67\x68\x2f\x31\x39\x39\x34\x31\x31\x32\x2f\x75\x70\x64\x61\x74\x65\x54\x65\x61\x6d\x31\x40\x6d\x61\x73\x74\x65\x72\x2f\x73\x68\x61\x72\x65\x43\x6f\x64\x65\x73\x2f\x6a\x64\x5f\x72\x65\x64\x2e\x6a\x73\x6f\x6e','\x61\x75\x74\x68\x6f\x72\x4d\x79\x53\x68\x61\x72\x65\x49\x64\x73','\x6c\x65\x6e\x67\x74\x68','\x55\x73\x65\x72\x4e\x61\x6d\x65','\x6d\x61\x74\x63\x68','\x69\x6e\x64\x65\x78','\x69\x73\x4c\x6f\x67\x69\x6e','\x6e\x69\x63\x6b\x4e\x61\x6d\x65','\x0a\x2a\x2a\x2a\x2a\u5f00\u59cb\u3010\u4eac\u4e1c\u8d26\u53f7','\x2a\x2a\x2a\x2a\x0a','\u3010\u63d0\u793a\u3011\x63\x6f\x6f\x6b\x69\x65\u5df2\u5931\u6548','\u4eac\u4e1c\u8d26\u53f7','\x0a\u8bf7\u91cd\u65b0\u767b\u5f55\u83b7\u53d6\x0a\x68\x74\x74\x70\x73\x3a\x2f\x2f\x62\x65\x61\x6e\x2e\x6d\x2e\x6a\x64\x2e\x63\x6f\x6d\x2f\x62\x65\x61\x6e\x2f\x73\x69\x67\x6e\x49\x6e\x64\x65\x78\x2e\x61\x63\x74\x69\x6f\x6e','\x73\x65\x6e\x64\x4e\x6f\x74\x69\x66\x79','\x63\x6f\x6f\x6b\x69\x65\u5df2\u5931\u6548\x20\x2d\x20','\x0a\u8bf7\u91cd\u65b0\u767b\u5f55\u83b7\u53d6\x63\x6f\x6f\x6b\x69\x65','\x64\x69\x73\x63\x6f\x75\x6e\x74','\x63\x61\x6e\x48\x65\x6c\x70','\x72\x65\x64\x50\x61\x63\x6b\x65\x74\x49\x64','\x0a\x0a\u81ea\u5df1\u8d26\u53f7\u5185\u90e8\u4e92\u52a9','\u8d26\u53f7\x20','\x20\u5f00\u59cb\u7ed9\x20','\x20\u8fdb\u884c\u52a9\u529b','\u6b21\u6570\u5df2\u7528\u5b8c\u6216\u6d3b\u52a8\u706b\u7206\uff0c\u8df3\u51fa\u52a9\u529b','\x0a\x0a\u6709\u5269\u4f59\u52a9\u529b\u673a\u4f1a\u5219\u7ed9\u4f5c\u8005\u8fdb\u884c\u52a9\u529b','\x0a\u8d26\u53f7\x20','\x20\u5f00\u59cb\u7ed9\u4f5c\u8005\x20','\u6b21\u6570\u5df2\u7528\u5b8c\uff0c\u8df3\u51fa\u52a9\u529b','\x2c\x20\u5931\u8d25\x21\x20\u539f\u56e0\x3a\x20','\x66\x69\x6e\x61\x6c\x6c\x79','\x64\x6f\x6e\x65','\x6c\x6f\x67\x45\x72\x72','\u83b7\u5f97\u7ea2\u5305\uff1a','\u5143\x0a\x0a','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x61\x70\x69\x2e\x6d\x2e\x6a\x64\x2e\x63\x6f\x6d\x2f\x63\x6c\x69\x65\x6e\x74\x2e\x61\x63\x74\x69\x6f\x6e\x3f\x66\x75\x6e\x63\x74\x69\x6f\x6e\x49\x64\x3d\x64\x6f\x4c\x75\x63\x6b\x44\x72\x61\x77\x45\x6e\x74\x72\x61\x6e\x63\x65\x26\x62\x6f\x64\x79\x3d\x25\x37\x42\x25\x32\x32\x70\x6c\x61\x74\x66\x6f\x72\x6d\x54\x79\x70\x65\x25\x32\x32\x25\x33\x41\x25\x32\x32\x31\x25\x32\x32\x25\x37\x44\x26\x61\x70\x70\x69\x64\x3d\x58\x50\x4d\x53\x47\x43\x32\x30\x31\x39\x26\x63\x6c\x69\x65\x6e\x74\x3d\x6d\x26\x63\x6c\x69\x65\x6e\x74\x56\x65\x72\x73\x69\x6f\x6e\x3d\x31\x2e\x30\x2e\x30\x26\x61\x72\x65\x61\x3d\x31\x39\x5f\x31\x36\x30\x31\x5f\x35\x30\x32\x35\x38\x5f\x36\x32\x38\x35\x38\x26\x67\x65\x6f\x3d\x25\x35\x42\x6f\x62\x6a\x65\x63\x74\x25\x32\x30\x4f\x62\x6a\x65\x63\x74\x25\x35\x44\x26\x75\x75\x69\x64\x3d\x38\x38\x37\x33\x32\x66\x38\x34\x30\x62\x37\x37\x38\x32\x31\x62\x33\x34\x35\x62\x66\x30\x37\x66\x64\x37\x31\x66\x36\x30\x39\x65\x36\x66\x66\x31\x32\x66\x34\x33','\x61\x70\x69\x2e\x6d\x2e\x6a\x64\x2e\x63\x6f\x6d','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x68\x35\x2e\x6d\x2e\x6a\x64\x2e\x63\x6f\x6d','\x6b\x65\x65\x70\x2d\x61\x6c\x69\x76\x65','\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x6a\x73\x6f\x6e\x2c\x20\x74\x65\x78\x74\x2f\x70\x6c\x61\x69\x6e\x2c\x20\x2a\x2f\x2a','\x6a\x64\x61\x70\x70\x3b\x69\x50\x68\x6f\x6e\x65\x3b\x39\x2e\x35\x2e\x34\x3b\x31\x34\x2e\x33\x3b\x38\x38\x37\x33\x32\x66\x38\x34\x30\x62\x37\x37\x38\x32\x31\x62\x33\x34\x35\x62\x66\x30\x37\x66\x64\x37\x31\x66\x36\x30\x39\x65\x36\x66\x66\x31\x32\x66\x34\x33\x3b\x6e\x65\x74\x77\x6f\x72\x6b\x2f\x34\x67\x3b\x6d\x6f\x64\x65\x6c\x2f\x69\x50\x68\x6f\x6e\x65\x31\x31\x2c\x38\x3b\x61\x64\x64\x72\x65\x73\x73\x69\x64\x2f\x32\x30\x30\x35\x31\x38\x33\x33\x37\x33\x3b\x61\x70\x70\x42\x75\x69\x6c\x64\x2f\x31\x36\x37\x36\x36\x38\x3b\x6a\x64\x53\x75\x70\x70\x6f\x72\x74\x44\x61\x72\x6b\x4d\x6f\x64\x65\x2f\x30\x3b\x4d\x6f\x7a\x69\x6c\x6c\x61\x2f\x35\x2e\x30\x20\x28\x69\x50\x68\x6f\x6e\x65\x3b\x20\x43\x50\x55\x20\x69\x50\x68\x6f\x6e\x65\x20\x4f\x53\x20\x31\x34\x5f\x33\x20\x6c\x69\x6b\x65\x20\x4d\x61\x63\x20\x4f\x53\x20\x58\x29\x20\x41\x70\x70\x6c\x65\x57\x65\x62\x4b\x69\x74\x2f\x36\x30\x35\x2e\x31\x2e\x31\x35\x20\x28\x4b\x48\x54\x4d\x4c\x2c\x20\x6c\x69\x6b\x65\x20\x47\x65\x63\x6b\x6f\x29\x20\x4d\x6f\x62\x69\x6c\x65\x2f\x31\x35\x45\x31\x34\x38\x3b\x73\x75\x70\x70\x6f\x72\x74\x4a\x44\x53\x48\x57\x4b\x2f\x31','\x7a\x68\x2d\x63\x6e','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x68\x35\x2e\x6d\x2e\x6a\x64\x2e\x63\x6f\x6d\x2f\x62\x61\x62\x65\x6c\x44\x69\x79\x2f\x5a\x65\x75\x73\x2f\x79\x6a\x38\x6d\x62\x63\x6d\x36\x72\x6f\x45\x4e\x6e\x37\x71\x68\x4e\x64\x68\x69\x65\x6b\x79\x65\x71\x74\x64\x2f\x69\x6e\x64\x65\x78\x2e\x68\x74\x6d\x6c','\x67\x7a\x69\x70\x2c\x20\x64\x65\x66\x6c\x61\x74\x65\x2c\x20\x62\x72','\x70\x6f\x73\x74','\x73\x74\x72\x69\x6e\x67\x69\x66\x79','\x20\x41\x50\x49\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u8def\u91cd\u8bd5','\x70\x61\x72\x73\x65','\x63\x6f\x64\x65','\x62\x75\x73\x69\x43\x6f\x64\x65','\x72\x65\x73\x75\x6c\x74','\x6c\x75\x63\x6b\x79\x44\x72\x61\x77\x44\x61\x74\x61','\x61\x63\x74\x49\x64','\u5238\u540e\x39\x2e\x39\u62bd\u5956\u83b7\u5f97\u3010\u7ea2\u5305\u3011\uff1a','\x71\x75\x6f\x74\x61','\u5238\u540e\x39\x2e\x39\u62bd\u5956\u83b7\u5f97\u3010\u4f18\u60e0\u5238\u3011\uff1a','\x70\x72\x69\x7a\x65\x4e\x61\x6d\x65','\x71\x75\x6f\x74\x61\x44\x65\x73\x63','\u5238\u540e\x39\x2e\x39\u62bd\u5956\u83b7\u5931\u8d25\uff1a\u4eca\u65e5\x33\u6b21\u62bd\u5956\u673a\u4f1a\u5df2\u7528\u5b8c\x0a','\x74\x61\x73\x6b\x48\x6f\x6d\x65\x50\x61\x67\x65\x44\x61\x74\x61','\x74\x61\x73\x6b\x49\x6e\x66\x6f','\x64\x61\x74\x61','\x74\x61\x73\x6b\x49\x6e\x66\x6f\x73','\x20\x20\x20\x20\u4efb\u52a1\x20\x20\x20\x20\x20\u72b6\u6001\x20\x20\u7ea2\u5305\u662f\u5426\u9886\u53d6','\x74\x69\x74\x6c\x65','\x73\x6c\x69\x63\x65','\x20\x20\x20','\x61\x6c\x72\x65\x61\x64\x79\x52\x65\x63\x65\x69\x76\x65\x64\x43\x6f\x75\x6e\x74','\x72\x65\x71\x75\x69\x72\x65\x43\x6f\x75\x6e\x74','\x20\x20\x20\x20\x20\x20','\x69\x6e\x6e\x65\x72\x53\x74\x61\x74\x75\x73','\x5d\x20\u5df2\u7ecf\u9886\u53d6\u5956\u52b1','\x74\x61\x73\x6b\x54\x79\x70\x65','\u5f00\u59cb\u505a\u3010','\u3011\u4efb\u52a1','\u5f00\u59cb\u9886\u53d6\u3010','\u3011\u4efb\u52a1\u6240\u5f97\u7ea2\u5305\u5956\u52b1','\x5d\x20\u529f\u80fd\u672a\u5f00\u53d1','\x0a\u5f00\u59cb\u9886\u53d6\u3010','\x0a\u83b7\u53d6\u4efb\u52a1\u5217\u8868\u5f02\u5e38\uff1a','\x68\x61\x73\x53\x65\x6e\x64\x4e\x75\x6d\x62\x65\x72','\x61\x73\x73\x69\x73\x74\x61\x6e\x74\x73','\x68\x35\x61\x63\x74\x69\x76\x69\x74\x79\x49\x6e\x64\x65\x78','\x72\x65\x77\x61\x72\x64\x73','\x62\x69\x7a\x5f\x63\x6f\x64\x65','\x72\x65\x64\x70\x61\x63\x6b\x65\x74\x49\x6e\x66\x6f','\x0a\x0a\u5f53\u524d\u5f85\u62c6\u7ea2\u5305\x49\x44\x3a','\uff0c\u8fdb\u5ea6\uff1a\u518d\u9080','\x72\x65\x71\x75\x69\x72\x65\x41\x73\x73\x69\x73\x74\x4e\x75\x6d','\u4e2a\u597d\u53cb\uff0c\u5f00\u7b2c','\u4e2a\u7ea2\u5305\u3002\u5f53\u524d\u5df2\u62c6\u7ea2\u5305\uff1a','\u4e2a\uff0c\u5269\u4f59','\x72\x65\x6d\x61\x69\x6e\x52\x65\x64\x70\x61\x63\x6b\x65\x74\x4e\x75\x6d\x62\x65\x72','\u4e2a\u7ea2\u5305\u5f85\u5f00\uff0c\u5df2\u6709','\u597d\u53cb\u52a9\u529b\x0a\x0a','\x77\x61\x69\x74\x4f\x70\x65\x6e\x54\x69\x6d\x65\x73','\u5f53\u524d\u53ef\u62c6\u7ea2\u5305\u4e2a\u6570\uff1a','\x66\x69\x6c\x6c','\x62\x69\x7a\x5f\x6d\x73\x67','\x63\x61\x6c\x6c\x65\x65','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x3a\x20\x41\x50\x49\u67e5\u8be2\u8bf7\u6c42\u5931\u8d25\x20\u203c\ufe0f\u203c\ufe0f','\x74\x6f\x6b\x65\x6e','\x6d\x64\x35','\u9886\u53d6\u4efb\u52a1\uff1a','\x73\x74\x61\x74\x75\x73','\u4efb\u52a1\u5217\u8868\u4e3a\u7a7a\x2c\u624b\u52a8\u8fdb\u5165\x61\x70\x70\u5185\u68c0\u67e5\x20\u662f\u5426\u5b58\u5728\x5b\u4ece\u4eac\u8c46\u9996\u9875\u8fdb\u9886\u5238\u4e2d\u5fc3\u901b\x33\x30\u79d2\x5d\u7684\u4efb\u52a1\x2c\u5982\u5b58\u5728\x2c\u8bf7\u624b\u52a8\u5b8c\u6210\u518d\u8fd0\u884c\u811a\u672c','\u624b\u52a8\u8fdb\u5165\x61\x70\x70\u5185\u68c0\u67e5\x0a\u662f\u5426\u5b58\u5728\x5b\u4ece\u4eac\u8c46\u9996\u9875\u8fdb\u9886\u5238\u4e2d\u5fc3\u901b\x33\x30\u79d2\x5d\u7684\u4efb\u52a1\x0a\u5982\u5b58\u5728\x2c\u8bf7\u624b\u52a8\u5b8c\u6210\u518d\u8fd0\u884c\u811a\u672c','\x20\x2d\x20\u8d26\u53f7','\x20\x2d\x20','\u6267\u884c\u811a\u672c\u51fa\u73b0\u5f02\u5e38\x0a\u8bf7\u624b\u52a8\u8fdb\u5165\x61\x70\x70\u5185\u68c0\u67e5\x0a\u662f\u5426\u5b58\u5728\x5b\u4ece\u4eac\u8c46\u9996\u9875\u8fdb\u9886\u5238\u4e2d\u5fc3\u901b\x33\x30\u79d2\x5d\u7684\u4efb\u52a1\x0a\u5982\u5b58\u5728\x2c\u8bf7\u624b\u52a8\u5b8c\u6210\u518d\u8fd0\u884c\u811a\u672c','\x2d\x2d\x2d\u5177\u4f53\u4efb\u52a1\u8be6\u60c5\x2d\x2d\x2d','\x73\x75\x63\x63\x65\x73\x73','\u7ea2\u5305\u9886\u53d6\u6210\u529f\uff0c\u83b7\u5f97','\u52a9\u529b\u7ed3\u679c\uff1a','\x73\x74\x61\x74\x75\x73\x44\x65\x73\x63','\u52a9\u529b\u5f02\u5e38\uff1a','\u62c6\u7ea2\u5305\u83b7\u5f97\uff1a','\u9886\u7ea2\u5305\u5931\u8d25\uff1a','\x0a\x0a\u53d1\u8d77\u52a9\u529b\u7ea2\u5305\x20\u6210\u529f\uff1a\u7ea2\u5305\x49\x44\x20','\x0a\x0a\u53d1\u8d77\u52a9\u529b\u7ea2\u5305\x20\u5931\u8d25\uff1a','\u53d1\u8d77\u52a9\u529b\u7ea2\u5305\x20\u5931\u8d25\uff1a','\x70\x61\x63\x6b\x65\x74\x53\x75\x6d','\x74\x6f\x46\x69\x78\x65\x64','\x43\x6f\x75\x70\x6f\x6e\x43\x65\x6e\x74\x65\x72','\x6f\x70\x65\x6e\x61\x70\x70\x2e\x6a\x64\x6d\x6f\x62\x69\x6c\x65\x25\x33\x61\x25\x32\x66\x25\x32\x66\x76\x69\x72\x74\x75\x61\x6c\x25\x33\x66\x70\x61\x72\x61\x6d\x73\x25\x33\x64\x25\x37\x62\x25\x35\x63\x25\x32\x32\x63\x61\x74\x65\x67\x6f\x72\x79\x25\x35\x63\x25\x32\x32\x25\x33\x61\x25\x35\x63\x25\x32\x32\x6a\x75\x6d\x70\x25\x35\x63\x25\x32\x32\x25\x32\x63\x25\x35\x63\x25\x32\x32\x64\x65\x73\x25\x35\x63\x25\x32\x32\x25\x33\x61\x25\x35\x63\x25\x32\x32\x63\x6f\x75\x70\x6f\x6e\x43\x65\x6e\x74\x65\x72\x25\x35\x63\x25\x32\x32\x25\x37\x64','\x67\x65\x74\x43\x63\x54\x61\x73\x6b\x4c\x69\x73\x74','\x63\x63\x67\x72\x6f\x75\x70\x5f\x69\x6f\x73\x5f\x69\x6e\x64\x65\x78\x5f\x74\x61\x73\x6b','\x37\x32\x37','\x72\x65\x70\x6f\x72\x74\x43\x63\x54\x61\x73\x6b','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x61\x70\x69\x2e\x6d\x2e\x6a\x64\x2e\x63\x6f\x6d\x2f\x63\x6c\x69\x65\x6e\x74\x2e\x61\x63\x74\x69\x6f\x6e\x3f\x66\x75\x6e\x63\x74\x69\x6f\x6e\x49\x64\x3d','\x26\x62\x6f\x64\x79\x3d','\x26\x75\x75\x69\x64\x3d\x38\x38\x38\x38\x38\x38\x38\x26\x63\x6c\x69\x65\x6e\x74\x3d\x61\x70\x70\x6c\x65\x26\x63\x6c\x69\x65\x6e\x74\x56\x65\x72\x73\x69\x6f\x6e\x3d\x39\x2e\x34\x2e\x31\x26\x73\x74\x3d\x31\x36\x31\x37\x31\x35\x38\x33\x35\x38\x30\x30\x37\x26\x73\x69\x67\x6e\x3d\x61\x31\x35\x66\x37\x38\x65\x35\x38\x34\x36\x66\x39\x62\x30\x31\x37\x38\x64\x63\x61\x62\x62\x31\x30\x39\x33\x61\x36\x61\x37\x66\x26\x73\x76\x3d\x31\x30\x30','\x26\x75\x75\x69\x64\x3d\x38\x38\x38\x38\x38\x38\x38\x26\x63\x6c\x69\x65\x6e\x74\x3d\x61\x70\x70\x6c\x65\x26\x63\x6c\x69\x65\x6e\x74\x56\x65\x72\x73\x69\x6f\x6e\x3d\x39\x2e\x34\x2e\x31\x26\x73\x74\x3d\x31\x36\x31\x37\x31\x35\x38\x34\x33\x35\x30\x37\x39\x26\x73\x69\x67\x6e\x3d\x37\x65\x66\x66\x30\x37\x34\x33\x37\x64\x64\x38\x31\x37\x64\x62\x66\x61\x33\x34\x38\x63\x32\x30\x39\x66\x64\x35\x63\x31\x32\x39\x26\x73\x76\x3d\x31\x32\x30','\x62\x6f\x64\x79\x3d','\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x78\x2d\x77\x77\x77\x2d\x66\x6f\x72\x6d\x2d\x75\x72\x6c\x65\x6e\x63\x6f\x64\x65\x64','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x68\x35\x2e\x6d\x2e\x6a\x64\x2e\x63\x6f\x6d\x2f\x62\x61\x62\x65\x6c\x44\x69\x79\x2f\x5a\x65\x75\x73\x2f\x34\x5a\x4b\x34\x5a\x70\x76\x6f\x53\x72\x65\x52\x42\x39\x32\x52\x52\x6f\x38\x62\x70\x4a\x41\x51\x4e\x6f\x54\x71\x2f\x69\x6e\x64\x65\x78\x2e\x68\x74\x6d\x6c','\x4a\x44\x5f\x55\x53\x45\x52\x5f\x41\x47\x45\x4e\x54','\x2e\x2f\x55\x53\x45\x52\x5f\x41\x47\x45\x4e\x54\x53','\x55\x53\x45\x52\x5f\x41\x47\x45\x4e\x54','\x4a\x44\x55\x41','\x6a\x64\x61\x70\x70\x3b\x69\x50\x68\x6f\x6e\x65\x3b\x39\x2e\x34\x2e\x34\x3b\x31\x34\x2e\x33\x3b\x6e\x65\x74\x77\x6f\x72\x6b\x2f\x34\x67\x3b\x4d\x6f\x7a\x69\x6c\x6c\x61\x2f\x35\x2e\x30\x20\x28\x69\x50\x68\x6f\x6e\x65\x3b\x20\x43\x50\x55\x20\x69\x50\x68\x6f\x6e\x65\x20\x4f\x53\x20\x31\x34\x5f\x33\x20\x6c\x69\x6b\x65\x20\x4d\x61\x63\x20\x4f\x53\x20\x58\x29\x20\x41\x70\x70\x6c\x65\x57\x65\x62\x4b\x69\x74\x2f\x36\x30\x35\x2e\x31\x2e\x31\x35\x20\x28\x4b\x48\x54\x4d\x4c\x2c\x20\x6c\x69\x6b\x65\x20\x47\x65\x63\x6b\x6f\x29\x20\x4d\x6f\x62\x69\x6c\x65\x2f\x31\x35\x45\x31\x34\x38\x3b\x73\x75\x70\x70\x6f\x72\x74\x4a\x44\x53\x48\x57\x4b\x2f\x31','\u4eac\u4e1c\u9996\u9875\u70b9\u51fb\u201c\u9886\u5238\u201d\u901b\x31\x30\x73\u4efb\u52a1\x3a','\x4d\x6f\x7a\x69\x6c\x6c\x61\x2f\x35\x2e\x30\x20\x28\x69\x50\x68\x6f\x6e\x65\x3b\x20\x43\x50\x55\x20\x69\x50\x68\x6f\x6e\x65\x20\x4f\x53\x20\x31\x33\x5f\x32\x5f\x33\x20\x6c\x69\x6b\x65\x20\x4d\x61\x63\x20\x4f\x53\x20\x58\x29\x20\x41\x70\x70\x6c\x65\x57\x65\x62\x4b\x69\x74\x2f\x36\x30\x35\x2e\x31\x2e\x31\x35\x20\x28\x4b\x48\x54\x4d\x4c\x2c\x20\x6c\x69\x6b\x65\x20\x47\x65\x63\x6b\x6f\x29\x20\x56\x65\x72\x73\x69\x6f\x6e\x2f\x31\x33\x2e\x30\x2e\x33\x20\x4d\x6f\x62\x69\x6c\x65\x2f\x31\x35\x45\x31\x34\x38\x20\x53\x61\x66\x61\x72\x69\x2f\x36\x30\x34\x2e\x31\x20\x45\x64\x67\x2f\x38\x37\x2e\x30\x2e\x34\x32\x38\x30\x2e\x38\x38','\x54\x47\x5f\x50\x52\x4f\x58\x59\x5f\x48\x4f\x53\x54','\x54\x47\x5f\x50\x52\x4f\x58\x59\x5f\x50\x4f\x52\x54','\x74\x75\x6e\x6e\x65\x6c','\x68\x74\x74\x70\x73\x4f\x76\x65\x72\x48\x74\x74\x70','\x61\x73\x73\x69\x67\x6e','\x3f\x61\x70\x70\x69\x64\x3d\x6a\x64\x5f\x6d\x70\x5f\x68\x35\x26\x66\x75\x6e\x63\x74\x69\x6f\x6e\x49\x64\x3d','\x26\x6c\x6f\x67\x69\x6e\x54\x79\x70\x65\x3d\x32\x26\x63\x6c\x69\x65\x6e\x74\x3d\x6a\x64\x5f\x6d\x70\x5f\x68\x35\x26\x74\x3d','\x67\x65\x74\x54\x69\x6d\x65','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x68\x61\x70\x70\x79\x2e\x6d\x2e\x6a\x64\x2e\x63\x6f\x6d','\x2a\x2f\x2a','\x68\x74\x74\x70\x73\x3a\x2f\x2f\x68\x61\x70\x70\x79\x2e\x6d\x2e\x6a\x64\x2e\x63\x6f\x6d\x2f\x62\x61\x62\x65\x6c\x44\x69\x79\x2f\x7a\x6a\x79\x77\x2f\x33\x75\x67\x65\x64\x46\x61\x37\x79\x41\x36\x4e\x68\x78\x4c\x4e\x35\x67\x77\x32\x4c\x33\x50\x46\x39\x73\x51\x43\x2f\x69\x6e\x64\x65\x78\x2e\x68\x74\x6d\x6c','\x6a\x45\x73\x6b\x62\x67\x4f\x6a\x69\x42\x7a\x70\x61\x4b\x6d\x52\x44\x7a\x41\x69\x2e\x4d\x63\x6f\x6d\x2e\x76\x36\x3d\x3d'];var _0x40ea=function(_0x5bd248,_0x4a3050){_0x5bd248=~~'0x'['concat'](_0x5bd248);var _0x492759=_0x5be4[_0x5bd248];return _0x492759;};(function(_0x56f3b2,_0x12d0c2){var _0x502bb0=0x0;for(_0x12d0c2=_0x56f3b2['shift'](_0x502bb0>>0x2);_0x12d0c2&&_0x12d0c2!==(_0x56f3b2['pop'](_0x502bb0>>0x3)+'')['replace'](/[EkbgOBzpKRDzAM=]/g,'');_0x502bb0++){_0x502bb0=_0x502bb0^0x9a594;}}(_0x5be4,_0x40ea));if($[_0x40ea('0')]()){Object[_0x40ea('1')](jdCookieNode)[_0x40ea('2')](_0x27417b=>{cookiesArr[_0x40ea('3')](jdCookieNode[_0x27417b]);});if(process[_0x40ea('4')][_0x40ea('5')]&&process[_0x40ea('4')][_0x40ea('5')]===_0x40ea('6'))console[_0x40ea('7')]=()=>{};}else{cookiesArr=[$[_0x40ea('8')](_0x40ea('9')),$[_0x40ea('8')](_0x40ea('a')),...jsonParse($[_0x40ea('8')](_0x40ea('b'))||'\x5b\x5d')[_0x40ea('c')](_0x5e1749=>_0x5e1749[_0x40ea('d')])][_0x40ea('e')](_0x3aea68=>!!_0x3aea68);}const JD_API_HOST=_0x40ea('f');!(async()=>{if(!cookiesArr[0x0]){$[_0x40ea('10')]($[_0x40ea('11')],_0x40ea('12'),_0x40ea('13'),{'open-url':_0x40ea('13')});return;}let _0x24ad0e=await getAuthorShareCode(_0x40ea('14'));if(!_0x24ad0e){$[_0x40ea('15')][_0x40ea('16')]({'\x75\x72\x6c':_0x40ea('17')})[_0x40ea('18')](_0x3316e5=>{})[_0x40ea('19')](_0x52b71c=>$[_0x40ea('7')](_0x40ea('1a'),_0x52b71c));await $[_0x40ea('1b')](0x3e8);_0x24ad0e=await getAuthorShareCode(_0x40ea('1c'));}$[_0x40ea('1d')]=[..._0x24ad0e||[]];for(let _0x24790b=0x0;_0x24790b<cookiesArr[_0x40ea('1e')];_0x24790b++){if(cookiesArr[_0x24790b]){cookie=cookiesArr[_0x24790b];$[_0x40ea('1f')]=decodeURIComponent(cookie[_0x40ea('20')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x40ea('20')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x40ea('21')]=_0x24790b+0x1;$[_0x40ea('22')]=!![];$[_0x40ea('23')]='';await TotalBean();console[_0x40ea('7')](_0x40ea('24')+$[_0x40ea('21')]+'\u3011'+($[_0x40ea('23')]||$[_0x40ea('1f')])+_0x40ea('25'));if(!$[_0x40ea('22')]){$[_0x40ea('10')]($[_0x40ea('11')],_0x40ea('26'),_0x40ea('27')+$[_0x40ea('21')]+'\x20'+($[_0x40ea('23')]||$[_0x40ea('1f')])+_0x40ea('28'),{'open-url':_0x40ea('13')});if($[_0x40ea('0')]()){await notify[_0x40ea('29')]($[_0x40ea('11')]+_0x40ea('2a')+$[_0x40ea('1f')],_0x40ea('27')+$[_0x40ea('21')]+'\x20'+$[_0x40ea('1f')]+_0x40ea('2b'));}continue;}$[_0x40ea('2c')]=0x0;await redPacket();await showMsg();}}for(let _0x5bc5f3=0x0;_0x5bc5f3<cookiesArr[_0x40ea('1e')];_0x5bc5f3++){cookie=cookiesArr[_0x5bc5f3];$[_0x40ea('21')]=_0x5bc5f3+0x1;$[_0x40ea('1f')]=decodeURIComponent(cookie[_0x40ea('20')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x40ea('20')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x40ea('2d')]=!![];$[_0x40ea('2e')]=[...new Set($[_0x40ea('2e')])];if(cookiesArr&&cookiesArr[_0x40ea('1e')]>0x9){console[_0x40ea('7')](_0x40ea('2f'));for(let _0x5b7948 of $[_0x40ea('2e')]){console[_0x40ea('7')](_0x40ea('30')+$[_0x40ea('21')]+'\x20'+$[_0x40ea('1f')]+_0x40ea('31')+_0x5b7948+_0x40ea('32'));await jinli_h5assist(_0x5b7948);if(!$[_0x40ea('2d')]){console[_0x40ea('7')](_0x40ea('33'));break;}}}if($[_0x40ea('2d')]){console[_0x40ea('7')](_0x40ea('34'));for(let _0x2aa166 of $[_0x40ea('1d')]||[]){console[_0x40ea('7')](_0x40ea('35')+$[_0x40ea('21')]+'\x20'+$[_0x40ea('1f')]+_0x40ea('36')+_0x2aa166+_0x40ea('32'));await jinli_h5assist(_0x2aa166);if(!$[_0x40ea('2d')]){console[_0x40ea('7')](_0x40ea('37'));break;}}}}})()[_0x40ea('19')](_0x36d14d=>{$[_0x40ea('7')]('','\u274c\x20'+$[_0x40ea('11')]+_0x40ea('38')+_0x36d14d+'\x21','');})[_0x40ea('39')](()=>{$[_0x40ea('3a')]();});async function redPacket(){try{await doLuckDrawFun();await taskHomePage();await doTask();await h5activityIndex();await red();await h5activityIndex();}catch(_0x3a2d0a){$[_0x40ea('3b')](_0x3a2d0a);}}function showMsg(){console[_0x40ea('7')]('\x0a\x0a'+$[_0x40ea('11')]+_0x40ea('3c')+$[_0x40ea('2c')]+_0x40ea('3d'));}async function doLuckDrawFun(){for(let _0x130615=0x0;_0x130615<0x3;_0x130615++){await doLuckDrawEntrance();}}function doLuckDrawEntrance(){return new Promise(_0x2f4f15=>{const _0x48cb0a={'\x75\x72\x6c':_0x40ea('3e'),'\x68\x65\x61\x64\x65\x72\x73':{'Host':_0x40ea('3f'),'Origin':_0x40ea('40'),'Cookie':cookie,'Content-Length':'\x30','Connection':_0x40ea('41'),'Accept':_0x40ea('42'),'User-Agent':_0x40ea('43'),'Accept-Language':_0x40ea('44'),'Referer':_0x40ea('45'),'Accept-Encoding':_0x40ea('46')}};$[_0x40ea('47')](_0x48cb0a,async(_0x1837e7,_0x4cf726,_0x1d41e2)=>{try{if(_0x1837e7){console[_0x40ea('7')](''+JSON[_0x40ea('48')](_0x1837e7));console[_0x40ea('7')]($[_0x40ea('11')]+_0x40ea('49'));}else{if(_0x1d41e2){_0x1d41e2=JSON[_0x40ea('4a')](_0x1d41e2);if(_0x1d41e2[_0x40ea('4b')]==='\x30'&&_0x1d41e2[_0x40ea('4c')]==='\x30'){if(_0x1d41e2[_0x40ea('4d')][_0x40ea('4e')][_0x40ea('4f')]){if(_0x1d41e2[_0x40ea('4d')][_0x40ea('4e')][_0x40ea('2e')]){console[_0x40ea('7')](_0x40ea('50')+_0x1d41e2[_0x40ea('4d')][_0x40ea('4e')][_0x40ea('51')]+'\u5143');}else{console[_0x40ea('7')](_0x40ea('52')+_0x1d41e2[_0x40ea('4d')][_0x40ea('4e')][_0x40ea('2c')]+'\u5143\uff1a'+_0x1d41e2[_0x40ea('4d')][_0x40ea('4e')][_0x40ea('53')]+'\uff0c'+_0x1d41e2[_0x40ea('4d')][_0x40ea('4e')][_0x40ea('54')]);}}else{console[_0x40ea('7')](_0x40ea('55'));}}}}}catch(_0x468a19){$[_0x40ea('3b')](_0x468a19,_0x4cf726);}finally{_0x2f4f15();}});});}async function doTask(){if($[_0x40ea('56')]&&$[_0x40ea('56')][_0x40ea('4b')]===0x0){$[_0x40ea('57')]=$[_0x40ea('56')][_0x40ea('58')][_0x40ea('4d')][_0x40ea('59')];if($[_0x40ea('57')]&&$[_0x40ea('57')][_0x40ea('1e')]>0x0){console[_0x40ea('7')](_0x40ea('5a'));for(let _0x1df6d1 of $[_0x40ea('57')]){console[_0x40ea('7')](_0x1df6d1[_0x40ea('5b')][_0x40ea('5c')](-0x6)+_0x40ea('5d')+(_0x1df6d1[_0x40ea('5e')]?_0x1df6d1[_0x40ea('5e')]:0x0)+'\x2f'+_0x1df6d1[_0x40ea('5f')]+_0x40ea('60')+(_0x1df6d1[_0x40ea('61')]===0x4?'\u662f':'\u5426'));}for(let _0x526d43 of $[_0x40ea('57')]){if(_0x526d43[_0x40ea('61')]===0x4){console[_0x40ea('7')]('\x5b'+_0x526d43[_0x40ea('5b')]+_0x40ea('62'));}else if(_0x526d43[_0x40ea('61')]===0x3){await receiveTaskRedpacket(_0x526d43[_0x40ea('63')]);}else if(_0x526d43[_0x40ea('61')]===0x2){if(_0x526d43[_0x40ea('63')]!==0x0&&_0x526d43[_0x40ea('63')]!==0x1){console[_0x40ea('7')](_0x40ea('64')+_0x526d43[_0x40ea('5b')]+_0x40ea('65'));await active(_0x526d43[_0x40ea('63')]);console[_0x40ea('7')](_0x40ea('66')+_0x526d43[_0x40ea('5b')]+_0x40ea('67'));await receiveTaskRedpacket(_0x526d43[_0x40ea('63')]);}else if(_0x526d43[_0x40ea('63')]===0x1){console[_0x40ea('7')](_0x40ea('64')+_0x526d43[_0x40ea('5b')]+_0x40ea('65'));await doAppTask();}else{console[_0x40ea('7')]('\x5b'+_0x526d43[_0x40ea('5b')]+_0x40ea('68'));}}else if(_0x526d43[_0x40ea('61')]!==0x4){console[_0x40ea('7')](_0x40ea('69')+_0x526d43[_0x40ea('5b')]+_0x40ea('65'));await startTask(_0x526d43[_0x40ea('63')]);if(_0x526d43[_0x40ea('63')]!==0x0&&_0x526d43[_0x40ea('63')]!==0x1){console[_0x40ea('7')](_0x40ea('64')+_0x526d43[_0x40ea('5b')]+_0x40ea('65'));await active(_0x526d43[_0x40ea('63')]);console[_0x40ea('7')](_0x40ea('66')+_0x526d43[_0x40ea('5b')]+_0x40ea('67'));await receiveTaskRedpacket(_0x526d43[_0x40ea('63')]);}else if(_0x526d43[_0x40ea('63')]===0x1){console[_0x40ea('7')](_0x40ea('64')+_0x526d43[_0x40ea('5b')]+_0x40ea('65'));await doAppTask();}else{console[_0x40ea('7')]('\x5b'+_0x526d43[_0x40ea('5b')]+_0x40ea('68'));}}}}}else{console[_0x40ea('7')](_0x40ea('6a')+JSON[_0x40ea('48')]($[_0x40ea('56')])+'\x0a');}}async function red(){$[_0x40ea('6b')]=0x0;$[_0x40ea('6c')]=0x0;if($[_0x40ea('6d')]&&$[_0x40ea('6d')][_0x40ea('58')]&&$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')]){const _0x4a229c=$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')][_0x40ea('6e')]||[];$[_0x40ea('6b')]=$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')][_0x40ea('6b')];if($[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')][_0x40ea('6c')]){$[_0x40ea('6c')]=$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')][_0x40ea('6c')][_0x40ea('1e')]||0x0;}}if($[_0x40ea('6d')]&&$[_0x40ea('6d')][_0x40ea('58')]&&$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('6f')]===0x2712){await h5launch();}else if($[_0x40ea('6d')]&&$[_0x40ea('6d')][_0x40ea('58')]&&$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('6f')]===0x4e21){const _0x53bdba=$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')][_0x40ea('70')]['\x69\x64'];if(_0x53bdba)$[_0x40ea('2e')][_0x40ea('3')](_0x53bdba);console[_0x40ea('7')](_0x40ea('71')+$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')][_0x40ea('70')]['\x69\x64']+_0x40ea('72')+$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')][_0x40ea('73')]+_0x40ea('74')+($[_0x40ea('6b')]+0x1)+_0x40ea('75')+$[_0x40ea('6b')]+_0x40ea('76')+$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')][_0x40ea('77')]+_0x40ea('78')+$[_0x40ea('6c')]+_0x40ea('79'));const _0x201875=$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')][_0x40ea('70')][_0x40ea('7a')]||0x0;console[_0x40ea('7')](_0x40ea('7b')+_0x201875);if(_0x201875>0x0){for(let _0x18bc82=0x0;_0x18bc82<new Array(_0x201875)[_0x40ea('7c')]('')[_0x40ea('1e')];_0x18bc82++){if(!_0x53bdba)break;await h5receiveRedpacket(_0x53bdba);await $[_0x40ea('1b')](0x1f4);}}}else if($[_0x40ea('6d')]&&$[_0x40ea('6d')][_0x40ea('58')]&&$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('6f')]===0x4e22){console[_0x40ea('7')]('\x0a'+$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('7d')]+'\x0a');}}function taskHomePage(){return new Promise(_0x4deefc=>{$[_0x40ea('47')](taskUrl(arguments[_0x40ea('7e')][_0x40ea('11')][_0x40ea('7f')](),{'clientInfo':{}}),(_0x256e1e,_0x3c8a82,_0x76233a)=>{try{if(_0x256e1e){console[_0x40ea('7')]('\x0a'+$[_0x40ea('11')]+_0x40ea('80'));console[_0x40ea('7')](JSON[_0x40ea('48')](_0x256e1e));}else{$[_0x40ea('56')]=JSON[_0x40ea('4a')](_0x76233a);}}catch(_0x42d04b){$[_0x40ea('3b')](_0x42d04b,_0x3c8a82);}finally{_0x4deefc(_0x76233a);}});});}function startTask(_0x39ec8b){let _0x47b320={'\x74\x61\x73\x6b\x54\x79\x70\x65':_0x39ec8b};_0x47b320[_0x40ea('81')]=$[_0x40ea('82')]($[_0x40ea('82')]('\x6a'+JSON[_0x40ea('48')](_0x47b320)+'\x44'));return new Promise(_0x3046e2=>{$[_0x40ea('47')](taskUrl(arguments[_0x40ea('7e')][_0x40ea('11')][_0x40ea('7f')](),_0x47b320),(_0x1aa97e,_0x324592,_0x47b320)=>{try{if(_0x1aa97e){console[_0x40ea('7')]('\x0a'+$[_0x40ea('11')]+_0x40ea('80'));console[_0x40ea('7')](JSON[_0x40ea('48')](_0x1aa97e));}else{console[_0x40ea('7')](_0x40ea('83')+_0x47b320);_0x47b320=JSON[_0x40ea('4a')](_0x47b320);}}catch(_0x2c761b){$[_0x40ea('3b')](_0x2c761b,_0x324592);}finally{_0x3046e2(_0x47b320);}});});}async function active(_0x219b99){const _0x4d58cd=await getTaskDetailForColor(_0x219b99);if(_0x4d58cd&&_0x4d58cd[_0x40ea('4b')]===0x0){if(_0x4d58cd[_0x40ea('58')]&&_0x4d58cd[_0x40ea('58')][_0x40ea('4d')]){const {advertDetails}=_0x4d58cd[_0x40ea('58')][_0x40ea('4d')];for(let _0x388a94 of advertDetails){await $[_0x40ea('1b')](0x3e8);if(_0x388a94['\x69\x64']&&_0x388a94[_0x40ea('84')]===0x0){await taskReportForColor(_0x219b99,_0x388a94['\x69\x64']);}}}else{console[_0x40ea('7')](_0x40ea('85'));$[_0x40ea('10')](''+$[_0x40ea('11')],'',_0x40ea('86'));if($[_0x40ea('0')]())await notify[_0x40ea('29')]($[_0x40ea('11')]+_0x40ea('87')+$[_0x40ea('21')]+_0x40ea('88')+$[_0x40ea('23')],_0x40ea('89'));}}else{console[_0x40ea('7')](_0x40ea('8a')+JSON[_0x40ea('48')](_0x4d58cd));}}function getTaskDetailForColor(_0x44c836){const _0xc2ec37={'clientInfo':{},'\x74\x61\x73\x6b\x54\x79\x70\x65':_0x44c836};return new Promise(_0x507808=>{$[_0x40ea('47')](taskUrl(arguments[_0x40ea('7e')][_0x40ea('11')][_0x40ea('7f')](),_0xc2ec37),(_0x5c94eb,_0x1895ce,_0xc2ec37)=>{try{if(_0x5c94eb){console[_0x40ea('7')]('\x0a'+$[_0x40ea('11')]+_0x40ea('80'));console[_0x40ea('7')](JSON[_0x40ea('48')](_0x5c94eb));}else{_0xc2ec37=JSON[_0x40ea('4a')](_0xc2ec37);}}catch(_0x2efa14){$[_0x40ea('3b')](_0x2efa14,_0x1895ce);}finally{_0x507808(_0xc2ec37);}});});}function taskReportForColor(_0x28733a,_0x31a2e0){const _0x3c1862={'\x74\x61\x73\x6b\x54\x79\x70\x65':_0x28733a,'\x64\x65\x74\x61\x69\x6c\x49\x64':_0x31a2e0};_0x3c1862[_0x40ea('81')]=$[_0x40ea('82')]($[_0x40ea('82')]('\x6a'+JSON[_0x40ea('48')](_0x3c1862)+'\x44'));return new Promise(_0x44beeb=>{$[_0x40ea('47')](taskUrl(arguments[_0x40ea('7e')][_0x40ea('11')][_0x40ea('7f')](),_0x3c1862),(_0x208958,_0x33ebc5,_0x3c1862)=>{try{if(_0x208958){console[_0x40ea('7')]('\x0a'+$[_0x40ea('11')]+_0x40ea('80'));console[_0x40ea('7')](JSON[_0x40ea('48')](_0x208958));}else{_0x3c1862=JSON[_0x40ea('4a')](_0x3c1862);}}catch(_0x4c04ca){$[_0x40ea('3b')](_0x4c04ca,_0x33ebc5);}finally{_0x44beeb(_0x3c1862);}});});}function receiveTaskRedpacket(_0x1aa4c9){const _0x31e355={'clientInfo':{},'\x74\x61\x73\x6b\x54\x79\x70\x65':_0x1aa4c9};return new Promise(_0x7f0b3c=>{$[_0x40ea('47')](taskUrl(arguments[_0x40ea('7e')][_0x40ea('11')][_0x40ea('7f')](),_0x31e355),(_0x3cb8a9,_0x463330,_0x2f3b31)=>{try{if(_0x3cb8a9){console[_0x40ea('7')]('\x0a'+$[_0x40ea('11')]+_0x40ea('80'));console[_0x40ea('7')](JSON[_0x40ea('48')](_0x3cb8a9));}else{_0x2f3b31=JSON[_0x40ea('4a')](_0x2f3b31);if(_0x2f3b31[_0x40ea('58')][_0x40ea('8b')]&&_0x2f3b31[_0x40ea('58')][_0x40ea('6f')]===0x0){console[_0x40ea('7')](_0x40ea('8c')+_0x2f3b31[_0x40ea('58')][_0x40ea('4d')][_0x40ea('2c')]+'\u5143\x0a');$[_0x40ea('2c')]+=Number(_0x2f3b31[_0x40ea('58')][_0x40ea('4d')][_0x40ea('2c')]);}}}catch(_0x512bc2){$[_0x40ea('3b')](_0x512bc2,_0x463330);}finally{_0x7f0b3c(_0x2f3b31);}});});}function jinli_h5assist(_0x10b031){const _0x26834b={'clientInfo':{},'\x72\x65\x64\x50\x61\x63\x6b\x65\x74\x49\x64':_0x10b031,'followShop':0x0,'promUserState':''};const _0x3e4193=taskUrl(arguments[_0x40ea('7e')][_0x40ea('11')][_0x40ea('7f')](),_0x26834b);return new Promise(_0x281d3c=>{$[_0x40ea('47')](_0x3e4193,(_0x430402,_0x38c331,_0x7b4bcc)=>{try{if(_0x430402){console[_0x40ea('7')]('\x0a'+$[_0x40ea('11')]+_0x40ea('80'));console[_0x40ea('7')](JSON[_0x40ea('48')](_0x430402));}else{_0x7b4bcc=JSON[_0x40ea('4a')](_0x7b4bcc);if(_0x7b4bcc&&_0x7b4bcc[_0x40ea('58')]&&_0x7b4bcc[_0x40ea('58')][_0x40ea('6f')]===0x0){console[_0x40ea('7')](_0x40ea('8d')+_0x7b4bcc[_0x40ea('58')][_0x40ea('4d')][_0x40ea('8e')]);if(_0x7b4bcc[_0x40ea('58')][_0x40ea('4d')][_0x40ea('84')]===0x3)$[_0x40ea('2d')]=![];if(_0x7b4bcc[_0x40ea('58')][_0x40ea('4d')][_0x40ea('84')]===0x9)$[_0x40ea('2d')]=![];}else{console[_0x40ea('7')](_0x40ea('8f')+JSON[_0x40ea('48')](_0x7b4bcc));}}}catch(_0x4611f5){$[_0x40ea('3b')](_0x4611f5,_0x38c331);}finally{_0x281d3c();}});});}function h5receiveRedpacket(_0x5797f6){const _0x1fc131={'\x72\x65\x64\x50\x61\x63\x6b\x65\x74\x49\x64':_0x5797f6};_0x1fc131[_0x40ea('81')]=$[_0x40ea('82')]($[_0x40ea('82')]('\x6a'+JSON[_0x40ea('48')](_0x1fc131)+'\x44'));const _0xce3bca=taskUrl(arguments[_0x40ea('7e')][_0x40ea('11')][_0x40ea('7f')](),_0x1fc131);return new Promise(_0x52cbb7=>{$[_0x40ea('47')](_0xce3bca,(_0x2fd9b2,_0x4b513a,_0x1fc131)=>{try{if(_0x2fd9b2){console[_0x40ea('7')]('\x0a'+$[_0x40ea('11')]+_0x40ea('80'));console[_0x40ea('7')](JSON[_0x40ea('48')](_0x2fd9b2));}else{_0x1fc131=JSON[_0x40ea('4a')](_0x1fc131);if(_0x1fc131&&_0x1fc131[_0x40ea('58')]&&_0x1fc131[_0x40ea('58')][_0x40ea('6f')]===0x0){console[_0x40ea('7')](_0x40ea('90')+_0x1fc131[_0x40ea('58')][_0x40ea('4d')][_0x40ea('2c')]+'\u5143');}else{console[_0x40ea('7')](_0x40ea('91')+JSON[_0x40ea('48')](_0x1fc131));}}}catch(_0x4140e4){$[_0x40ea('3b')](_0x4140e4,_0x4b513a);}finally{_0x52cbb7(_0x1fc131);}});});}function h5launch(){const _0x2e39ac={'clientInfo':{},'followShop':0x0,'promUserState':''};const _0x326ef8=taskUrl(arguments[_0x40ea('7e')][_0x40ea('11')][_0x40ea('7f')](),_0x2e39ac);return new Promise(_0x1efc13=>{$[_0x40ea('47')](_0x326ef8,(_0x98f63e,_0x429126,_0x39e7e8)=>{try{if(_0x98f63e){console[_0x40ea('7')]('\x0a'+$[_0x40ea('11')]+_0x40ea('80'));console[_0x40ea('7')](JSON[_0x40ea('48')](_0x98f63e));}else{_0x39e7e8=JSON[_0x40ea('4a')](_0x39e7e8);if(_0x39e7e8&&_0x39e7e8[_0x40ea('58')]&&_0x39e7e8[_0x40ea('58')][_0x40ea('6f')]===0x0){if(_0x39e7e8[_0x40ea('58')][_0x40ea('4d')][_0x40ea('2e')]){console[_0x40ea('7')](_0x40ea('92')+_0x39e7e8[_0x40ea('58')][_0x40ea('4d')][_0x40ea('2e')]);$[_0x40ea('2e')][_0x40ea('3')](_0x39e7e8[_0x40ea('58')][_0x40ea('4d')][_0x40ea('2e')]);}else{console[_0x40ea('7')](_0x40ea('93')+_0x39e7e8[_0x40ea('58')][_0x40ea('4d')][_0x40ea('8e')]);}}else{console[_0x40ea('7')](_0x40ea('94')+JSON[_0x40ea('48')](_0x39e7e8));}}}catch(_0x3a9b20){$[_0x40ea('3b')](_0x3a9b20,_0x429126);}finally{_0x1efc13(_0x39e7e8);}});});}function h5activityIndex(){const _0x48ccf0={'clientInfo':{},'isjdapp':0x1};const _0x18d37d=taskUrl(arguments[_0x40ea('7e')][_0x40ea('11')][_0x40ea('7f')](),_0x48ccf0);return new Promise(_0x441708=>{$[_0x40ea('47')](_0x18d37d,async(_0x111aff,_0xb6b812,_0x4e9a06)=>{try{if(_0x111aff){console[_0x40ea('7')]('\x0a'+$[_0x40ea('11')]+_0x40ea('80'));console[_0x40ea('7')](JSON[_0x40ea('48')](_0x111aff));}else{_0x4e9a06=JSON[_0x40ea('4a')](_0x4e9a06);$[_0x40ea('6d')]=_0x4e9a06;$[_0x40ea('2c')]=0x0;if($[_0x40ea('6d')]&&$[_0x40ea('6d')][_0x40ea('58')]&&$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')]){const _0x4c584e=$[_0x40ea('6d')][_0x40ea('58')][_0x40ea('4d')][_0x40ea('6e')]||[];for(let _0x4ed8e5 of _0x4c584e){$[_0x40ea('2c')]+=_0x4ed8e5[_0x40ea('95')];}if($[_0x40ea('2c')])$[_0x40ea('2c')]=$[_0x40ea('2c')][_0x40ea('96')](0x2);}}}catch(_0x1db3e3){$[_0x40ea('3b')](_0x1db3e3,_0xb6b812);}finally{_0x441708();}});});}async function doAppTask(_0x275ac0='\x31'){let _0x20808f={'pageClickKey':_0x40ea('97'),'childActivityUrl':_0x40ea('98'),'lat':'','globalLat':'','lng':'','globalLng':''};await getCcTaskList(_0x40ea('99'),_0x20808f,_0x275ac0);_0x20808f={'globalLng':'','globalLat':'','monitorSource':_0x40ea('9a'),'monitorRefer':'','taskType':'\x31','childActivityUrl':_0x40ea('98'),'pageClickKey':_0x40ea('97'),'lat':'','taskId':_0x40ea('9b'),'lng':''};await $[_0x40ea('1b')](0x2904);await getCcTaskList(_0x40ea('9c'),_0x20808f,_0x275ac0);}function getCcTaskList(_0xc18a60,_0x163b4c,_0x4ff390='\x31'){let _0x4bcefa='';return new Promise(_0x3f466c=>{if(_0xc18a60===_0x40ea('99')){_0x4bcefa=_0x40ea('9d')+_0xc18a60+_0x40ea('9e')+escape(JSON[_0x40ea('48')](_0x163b4c))+_0x40ea('9f');}else if(_0xc18a60===_0x40ea('9c')){_0x4bcefa=_0x40ea('9d')+_0xc18a60+_0x40ea('9e')+escape(JSON[_0x40ea('48')](_0x163b4c))+_0x40ea('a0');}const _0x12b6b5={'\x75\x72\x6c':_0x4bcefa,'\x62\x6f\x64\x79':_0x40ea('a1')+escape(JSON[_0x40ea('48')](_0x163b4c)),'\x68\x65\x61\x64\x65\x72\x73':{'Accept':_0x40ea('42'),'Accept-Encoding':_0x40ea('46'),'Accept-Language':_0x40ea('44'),'Connection':_0x40ea('41'),'Content-Length':'\x36\x33','Content-Type':_0x40ea('a2'),'Host':_0x40ea('3f'),'Origin':_0x40ea('40'),'Cookie':cookie,'Referer':_0x40ea('a3'),'User-Agent':$[_0x40ea('0')]()?process[_0x40ea('4')][_0x40ea('a4')]?process[_0x40ea('4')][_0x40ea('a4')]:require(_0x40ea('a5'))[_0x40ea('a6')]:$[_0x40ea('8')](_0x40ea('a7'))?$[_0x40ea('8')](_0x40ea('a7')):_0x40ea('a8')}};$[_0x40ea('47')](_0x12b6b5,async(_0x24c5b9,_0x567c10,_0x27b380)=>{try{if(_0x24c5b9){console[_0x40ea('7')](''+JSON[_0x40ea('48')](_0x24c5b9));console[_0x40ea('7')]($[_0x40ea('11')]+_0x40ea('49'));}else{if(_0x27b380){if(_0x4ff390==='\x31'&&_0xc18a60===_0x40ea('9c'))console[_0x40ea('7')](_0x40ea('a9')+_0x27b380);}}}catch(_0x56c279){$[_0x40ea('3b')](_0x56c279,_0x567c10);}finally{_0x3f466c();}});});}function getAuthorShareCode(_0x569969){return new Promise(_0x39cb3f=>{const _0x2693ab={'\x75\x72\x6c':_0x569969+'\x3f'+new Date(),'timeout':0x2710,'\x68\x65\x61\x64\x65\x72\x73':{'User-Agent':_0x40ea('aa')}};if($[_0x40ea('0')]()&&process[_0x40ea('4')][_0x40ea('ab')]&&process[_0x40ea('4')][_0x40ea('ac')]){const _0x1fbe0f=require(_0x40ea('ad'));const _0x3486bb={'\x68\x74\x74\x70\x73':_0x1fbe0f[_0x40ea('ae')]({'\x70\x72\x6f\x78\x79':{'\x68\x6f\x73\x74':process[_0x40ea('4')][_0x40ea('ab')],'\x70\x6f\x72\x74':process[_0x40ea('4')][_0x40ea('ac')]*0x1}})};Object[_0x40ea('af')](_0x2693ab,{'\x61\x67\x65\x6e\x74':_0x3486bb});}$[_0x40ea('16')](_0x2693ab,async(_0x20a92e,_0x2d8c2f,_0x1dda31)=>{try{if(_0x20a92e){}else{if(_0x1dda31)_0x1dda31=JSON[_0x40ea('4a')](_0x1dda31);}}catch(_0x400c7e){}finally{_0x39cb3f(_0x1dda31);}});});}function taskUrl(_0x3f79c5,_0x4778cd){return{'\x75\x72\x6c':JD_API_HOST+_0x40ea('b0')+_0x3f79c5+_0x40ea('b1')+new Date()[_0x40ea('b2')]()*0x3e8,'\x62\x6f\x64\x79':_0x40ea('a1')+JSON[_0x40ea('48')](_0x4778cd),'\x68\x65\x61\x64\x65\x72\x73':{'Host':_0x40ea('3f'),'Content-Type':_0x40ea('a2'),'Origin':_0x40ea('b3'),'Accept-Encoding':_0x40ea('46'),'Cookie':cookie,'Connection':_0x40ea('41'),'Accept':_0x40ea('b4'),'User-Agent':$[_0x40ea('0')]()?process[_0x40ea('4')][_0x40ea('a4')]?process[_0x40ea('4')][_0x40ea('a4')]:require(_0x40ea('a5'))[_0x40ea('a6')]:$[_0x40ea('8')](_0x40ea('a7'))?$[_0x40ea('8')](_0x40ea('a7')):_0x40ea('a8'),'Referer':_0x40ea('b5'),'Content-Length':'\x33\x36','Accept-Language':_0x40ea('44')}};};_0xod5='jsjiami.com.v6';


function TotalBean() {
  return new Promise(async resolve => {
    const options = {
      url: "https://wq.jd.com/user_new/info/GetJDUserInfoUnion?sceneval=2",
      headers: {
        Host: "wq.jd.com",
        Accept: "*/*",
        Connection: "keep-alive",
        Cookie: cookie,
        "User-Agent": $.isNode() ? (process.env.JD_USER_AGENT ? process.env.JD_USER_AGENT : (require('./USER_AGENTS').USER_AGENT)) : ($.getdata('JDUA') ? $.getdata('JDUA') : "jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148;supportJDSHWK/1"),
        "Accept-Language": "zh-cn",
        "Referer": "https://home.m.jd.com/myJd/newhome.action?sceneval=2&ufc=&",
        "Accept-Encoding": "gzip, deflate, br"
      }
    }
    $.get(options, (err, resp, data) => {
      try {
        if (err) {
          $.logErr(err)
        } else {
          if (data) {
            data = JSON.parse(data);
            if (data['retcode'] === 1001) {
              $.isLogin = false; //cookie过期
              return;
            }
            if (data['retcode'] === 0 && data.data && data.data.hasOwnProperty("userInfo")) {
              $.nickName = data.data.userInfo.baseInfo.nickname;
            }
          } else {
            console.log('京东服务器返回空数据');
          }
        }
      } catch (e) {
        $.logErr(e)
      } finally {
        resolve();
      }
    })
  })
}

function jsonParse(str) {
  if (typeof str == "string") {
    try {
      return JSON.parse(str);
    } catch (e) {
      console.log(e);
      $.msg($.name, '', '请勿随意在BoxJs输入框修改内容\n建议通过脚本去获取cookie')
      return [];
    }
  }
}
// md5
!function(n){function t(n,t){var r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}function r(n,t){return n<<t|n>>>32-t}function e(n,e,o,u,c,f){return t(r(t(t(e,n),t(u,f)),c),o)}function o(n,t,r,o,u,c,f){return e(t&r|~t&o,n,t,u,c,f)}function u(n,t,r,o,u,c,f){return e(t&o|r&~o,n,t,u,c,f)}function c(n,t,r,o,u,c,f){return e(t^r^o,n,t,u,c,f)}function f(n,t,r,o,u,c,f){return e(r^(t|~o),n,t,u,c,f)}function i(n,r){n[r>>5]|=128<<r%32,n[14+(r+64>>>9<<4)]=r;var e,i,a,d,h,l=1732584193,g=-271733879,v=-1732584194,m=271733878;for(e=0;e<n.length;e+=16){i=l,a=g,d=v,h=m,g=f(g=f(g=f(g=f(g=c(g=c(g=c(g=c(g=u(g=u(g=u(g=u(g=o(g=o(g=o(g=o(g,v=o(v,m=o(m,l=o(l,g,v,m,n[e],7,-680876936),g,v,n[e+1],12,-389564586),l,g,n[e+2],17,606105819),m,l,n[e+3],22,-1044525330),v=o(v,m=o(m,l=o(l,g,v,m,n[e+4],7,-176418897),g,v,n[e+5],12,1200080426),l,g,n[e+6],17,-1473231341),m,l,n[e+7],22,-45705983),v=o(v,m=o(m,l=o(l,g,v,m,n[e+8],7,1770035416),g,v,n[e+9],12,-1958414417),l,g,n[e+10],17,-42063),m,l,n[e+11],22,-1990404162),v=o(v,m=o(m,l=o(l,g,v,m,n[e+12],7,1804603682),g,v,n[e+13],12,-40341101),l,g,n[e+14],17,-1502002290),m,l,n[e+15],22,1236535329),v=u(v,m=u(m,l=u(l,g,v,m,n[e+1],5,-165796510),g,v,n[e+6],9,-1069501632),l,g,n[e+11],14,643717713),m,l,n[e],20,-373897302),v=u(v,m=u(m,l=u(l,g,v,m,n[e+5],5,-701558691),g,v,n[e+10],9,38016083),l,g,n[e+15],14,-660478335),m,l,n[e+4],20,-405537848),v=u(v,m=u(m,l=u(l,g,v,m,n[e+9],5,568446438),g,v,n[e+14],9,-1019803690),l,g,n[e+3],14,-187363961),m,l,n[e+8],20,1163531501),v=u(v,m=u(m,l=u(l,g,v,m,n[e+13],5,-1444681467),g,v,n[e+2],9,-51403784),l,g,n[e+7],14,1735328473),m,l,n[e+12],20,-1926607734),v=c(v,m=c(m,l=c(l,g,v,m,n[e+5],4,-378558),g,v,n[e+8],11,-2022574463),l,g,n[e+11],16,1839030562),m,l,n[e+14],23,-35309556),v=c(v,m=c(m,l=c(l,g,v,m,n[e+1],4,-1530992060),g,v,n[e+4],11,1272893353),l,g,n[e+7],16,-155497632),m,l,n[e+10],23,-1094730640),v=c(v,m=c(m,l=c(l,g,v,m,n[e+13],4,681279174),g,v,n[e],11,-358537222),l,g,n[e+3],16,-722521979),m,l,n[e+6],23,76029189),v=c(v,m=c(m,l=c(l,g,v,m,n[e+9],4,-640364487),g,v,n[e+12],11,-421815835),l,g,n[e+15],16,530742520),m,l,n[e+2],23,-995338651),v=f(v,m=f(m,l=f(l,g,v,m,n[e],6,-198630844),g,v,n[e+7],10,1126891415),l,g,n[e+14],15,-1416354905),m,l,n[e+5],21,-57434055),v=f(v,m=f(m,l=f(l,g,v,m,n[e+12],6,1700485571),g,v,n[e+3],10,-1894986606),l,g,n[e+10],15,-1051523),m,l,n[e+1],21,-2054922799),v=f(v,m=f(m,l=f(l,g,v,m,n[e+8],6,1873313359),g,v,n[e+15],10,-30611744),l,g,n[e+6],15,-1560198380),m,l,n[e+13],21,1309151649),v=f(v,m=f(m,l=f(l,g,v,m,n[e+4],6,-145523070),g,v,n[e+11],10,-1120210379),l,g,n[e+2],15,718787259),m,l,n[e+9],21,-343485551),l=t(l,i),g=t(g,a),v=t(v,d),m=t(m,h)}return[l,g,v,m]}function a(n){var t,r="",e=32*n.length;for(t=0;t<e;t+=8){r+=String.fromCharCode(n[t>>5]>>>t%32&255)}return r}function d(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1){r[t]=0}var e=8*n.length;for(t=0;t<e;t+=8){r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32}return r}function h(n){return a(i(d(n),8*n.length))}function l(n,t){var r,e,o=d(n),u=[],c=[];for(u[15]=c[15]=void 0,o.length>16&&(o=i(o,8*n.length)),r=0;r<16;r+=1){u[r]=909522486^o[r],c[r]=1549556828^o[r]}return e=i(u.concat(d(t)),512+8*t.length),a(i(c.concat(e),640))}function g(n){var t,r,e="";for(r=0;r<n.length;r+=1){t=n.charCodeAt(r),e+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t)}return e}function v(n){return unescape(encodeURIComponent(n))}function m(n){return h(v(n))}function p(n){return g(m(n))}function s(n,t){return l(v(n),v(t))}function C(n,t){return g(s(n,t))}function A(n,t,r){return t?r?s(t,n):C(t,n):r?m(n):p(n)}$.md5=A}(this);
// prettier-ignore
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
